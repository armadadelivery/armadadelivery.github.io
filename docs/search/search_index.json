{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":"<p>Welcome to the Armada delivery web app API documentation. Our API allows you to integrate your ordering app with our delivery service, enabling your customers to place orders for delivery directly from your app. This documentation will provide you with all the necessary information to integrate your app with our API, including authentication, request format, and webhooks for real-time updates.</p> <p>Hope this document was helpful, in case of any feedback please don't hesitate to share it with us. It's more than welcome: info@armadadelivery.com</p> <p>Made with \ud83d\udc99 by the Armada Tech Heroes</p>"},{"location":"authentication/","title":"Authentication","text":""},{"location":"authentication/#authentication","title":"Authentication","text":"<p>To use our API, you will need to generate an API key through the Armada Merchant UI. For that, our shared customer (Subscribed business), needs to:</p> <ol> <li>Open Sidebar by clicking on the Menu icon in the top left corner of the screen</li> <li>Open Settings page</li> <li>Open API settings page</li> <li>Click on \"Generate API Key\" button</li> </ol> <p>Once you have the API key, you will need to include it in the headers of all API requests as the \"Authorization\" parameter, prefixed by the word <code>Key</code>.</p> <p>Eg: <code>Key somerandomkey-sdfsdfqmk</code></p>"},{"location":"branches_management/","title":"Branches management","text":"<p>The merchant creation should be requested from our operations team!</p>"},{"location":"branches_management/#create-branch","title":"Create Branch","text":"<p>To create a branch, you will need to make an HTTP POST request to the following endpoint:</p> <pre><code>http://api.armadadelivery.com/v0/branches\n</code></pre> <p>For the sandbox environment please use the following domain name: <code>https://9vxtmhgzrr.eu-west-1.awsapprunner.com</code></p> <p>The body of the request should be in JSON format and include the following parameters:</p> <ul> <li><code>name</code>: The branch name, Between 2 and 40 (Required).</li> <li><code>phone</code>: The branch phone (Required).</li> <li><code>address</code>: The branch address (Required):<ul> <li><code>latitude</code>: (Required). </li> <li><code>longitude</code>: (Required).</li> </ul> </li> </ul> <p>Example request:</p> <pre><code>curl --location --request POST 'https://api.armadadelivery.com/v0/branches' \\\n--header 'Authorization: Key YOUR API KEY' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"name\": \"Arabian Flavors\",\n    \"phone\": \"+96555551234\",\n    \"address\": {\n        \"latitude\": 29.3759,\n        \"longitude\": 47.9774,\n    }\n}'\n</code></pre> <p>The response will include the details from your request body, along with the <code>_id</code> and <code>apiKey</code> associated with the branch.</p> <p>RESPONSE SCHEMA:</p> <pre><code>{\n    _id: string,\n    address: {\n        latitude: &lt;branch_latitude&gt;,\n        longitude: &lt;branch_longitude&gt;,\n    },\n    phone: string,\n    name: string\n    apiKey: string\n}\n</code></pre>"},{"location":"branches_management/#get-all-branches","title":"Get All Branches","text":"<p>To get all branches, you will need to make an HTTP GET request to the following endpoint:</p> <pre><code>http://api.armadadelivery.com/v0/branches\n</code></pre> <p>Example request:</p> <pre><code>curl --location --request GET 'https://api.armadadelivery.com/v0/branches' \\\n--header 'Authorization: Key YOUR API KEY'\n</code></pre> <p>You will get an array of data.</p> <p>RESPONSE SCHEMA:</p> <pre><code>[{\n    _id: string,\n    address: {\n        latitude: &lt;branch_latitude&gt;,\n        longitude: &lt;branch_longitude&gt;,\n    },\n    phone: string,\n    name: string\n    apiKey: string\n}]\n</code></pre>"},{"location":"branches_management/#get-one-branch","title":"Get One Branch","text":"<p>To get one branch, you will need to make an HTTP GET request to the following endpoint:</p> <pre><code>http://api.armadadelivery.com/v0/branches/:id\n</code></pre> <p>The <code>id</code> param is required.</p> <p>Example request:</p> <pre><code>curl --location --request GET 'https://api.armadadelivery.com/v0/branches/5eef2043bfa02f001c17b229' \\\n--header 'Authorization: Key YOUR API KEY'\n</code></pre> <p>RESPONSE SCHEMA:</p> <pre><code>{\n    _id: string,\n    address: {\n        latitude: &lt;branch_latitude&gt;,\n        longitude: &lt;branch_longitude&gt;,\n    },\n    phone: string,\n    name: string\n    apiKey: string\n}\n</code></pre>"},{"location":"branches_management/#update-branch","title":"Update Branch","text":"<p>To update a branch, you will need to make an HTTP PUT request to the following endpoint:</p> <pre><code>http://api.armadadelivery.com/v0/branches/:id\n</code></pre> <p>The <code>id</code> param is required.</p> <p>The body of the request should be in JSON format and include one of the following parameters:</p> <ul> <li><code>name</code>: The branch name, Between 2 and 40 (Optional).</li> <li><code>phone</code>: The branch phone (Optional).</li> <li><code>address</code>: The branch address (Optional):<ul> <li><code>latitude</code>: (Required for address change). </li> <li><code>longitude</code>: (Required for address change).</li> </ul> </li> </ul> <p>Example request:</p> <pre><code>curl --location --request PUT 'https://api.armadadelivery.com/v0/branches/5eef2043bfa02f001c17b229' \\\n--header 'Authorization: Key YOUR API KEY' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"name\": \"Alhambra Grill\",\n}'\n</code></pre> <p>RESPONSE SCHEMA:</p> <pre><code>{\n    _id: string,\n    address: {\n        latitude: &lt;branch_latitude&gt;,\n        longitude: &lt;branch_longitude&gt;,\n    },\n    phone: string,\n    name: string\n    apiKey: string\n}\n</code></pre>"},{"location":"branches_management/#delete-branch","title":"Delete Branch","text":"<p>To delete a branch, you will need to make an HTTP DELETE request to the following endpoint:</p> <pre><code>http://api.armadadelivery.com/v0/branches/:id\n</code></pre> <p>The <code>id</code> param is required.</p> <p>If successful, expect a response with HTTP <code>status</code> code <code>204</code>.</p> <p>Example request:</p> <pre><code>curl --location --request DELETE 'https://api.armadadelivery.com/v0/branches/5eef2043bfa02f001c17b229' \\\n--header 'Authorization: Key YOUR API KEY'\n</code></pre>"},{"location":"estimation/","title":"Estimation (time and fees)","text":"<p>To provide users with a convenient solution, we've implemented an endpoint designed to offer estimations for both time and fees. This allows users to gauge potential costs and delivery times without the need to initiate the order creation process.</p> <p>To try the estimation, you will need to make an HTTP POST request to the following endpoint:</p> <pre><code>http://api.armadadelivery.com/v0/deliveries/estimate`\n</code></pre> <p>For the sandbox environment please use the following domain name: <code>https://9vxtmhgzrr.eu-west-1.awsapprunner.com</code></p> <p>The body of the request should be in JSON format and include the following parameters:</p> <ul> <li><code>branch</code>: The branch ID, Start point (Required).</li> <li><code>destination</code>: The final customer destination (Required):<ul> <li><code>latitude</code>: (Required). </li> <li><code>longitude</code>: (Required).</li> </ul> </li> </ul> <p>Example request:</p> <pre><code>curl --location --request POST 'https://api.armadadelivery.com/v0/deliveries/estimate' \\\n--header 'Authorization: Key YOUR API KEY' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"branch\": \"5eef2043bfa02f001c17b229\",\n    \"destination\": {\n        \"latitude\": 29.3300,\n        \"longitude\": 47.9085,\n    }\n}'\n</code></pre> <p>RESPONSE SCHEMA:</p> <pre><code>{\n    deliveryFee: Number,\n    pickupEta: ISODATE,\n    deliveryEta: ISODATE,\n}\n</code></pre> <ul> <li><code>deliveryFee</code>: The trip cost.</li> <li><code>pickupEta</code>: Expected date and time for driver pickup. (Eta: Estimated Arrival time)</li> <li><code>deliveryEta</code>: Expected date and time of arrival for the driver. (Eta: Estimated Arrival time)</li> </ul> <p>Example response:</p> <pre><code>{\n    deliveryFee: 17,\n    pickupEta: 2024-01-18T14:48:00.000Z,\n    deliveryEta: 2024-01-18T15:39:00.000Z,,\n}\n</code></pre>"},{"location":"order_placement/","title":"Order placement","text":""},{"location":"order_placement/#order-creation","title":"Order Creation","text":"<p>To place an order, you will need to make an HTTP POST request to the following endpoint:</p> <pre><code>http://api.armadadelivery.com/v0/deliveries\n</code></pre> <p>For the sandbox environment please use the following domain name: <code>https://9vxtmhgzrr.eu-west-1.awsapprunner.com</code></p> <p>The body of the request should be in JSON format and include the following parameters:</p> <ul> <li><code>platformName</code>: refer to the platform creating the delivery (Required).</li> <li><code>platformData</code>: Contains the data required to create the delivery, more details below (Required):<ul> <li><code>orderId</code>: The Id of the Order in the platform (Required),</li> <li><code>name</code>: The Customer Name (Required),</li> <li><code>phone</code>: The customer Phone (Required),</li> <li><code>area</code>: The most Important param in the address components and should match our areas spelling (Required in case no location is provided),</li> <li><code>block</code>: One of the address components (Required in case no location is provided),</li> <li><code>street</code>: One of the address components (Required in case no location is provided),</li> <li><code>buildingNumber</code>: One of the address components (Required in case no location is provided),</li> <li><code>floor</code>: One of the address components used,</li> <li><code>apartment</code>: One of the address components ,</li> <li><code>instructions</code>: Extra instructions or information to the driver,</li> <li><code>amount</code>: The order Amount used incase of chash payment mean (Required),</li> <li><code>scheduled_at</code>: The order datetime you want the order to start at. The provided date should imperatively be later than now. If it is earlier than now + 30 minutes, the order will be submitted as a live one,</li> <li><code>paymentType</code>: It should be 'paid' or 'cash',</li> <li><code>location</code>: The location Of the customer { latitude: '', longitude: '' } (Required in case the Full address is not provided).</li> </ul> </li> </ul> <p>For increased security, we recommend including a security key in the headers of your order:</p> <ul> <li><code>order-webhook-key</code>: Webhook key must be between 12-32 characters. (recommended)</li> </ul> <p>When you receive an order update via your webhook, the order-webhook-key will be included in the headers as an Authorization key for security purposes. see webhooks</p> <p>Example request:</p> <pre><code>curl --location --request POST 'https://api.armadadelivery.com/v0/deliveries' \\\n--header 'Authorization: Key YOUR API KEY' \\\n--header 'order-webhook-key: vE6gH8Rt2L1sK9w' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"platformName\": \"pos\",\n    \"platformData\": {\n        \"orderId\": \"OrderId\",\n        \"name\": \"mohamed\",\n        \"phone\": \"15245635895\",\n        \"area\": \"Abdullah Mubarak Al-Sabah\",\n        \"block\": \"5\",\n        \"street\": \"St 503\",\n        \"buildingNumber\": \"123\",\n        \"amount\": \"5.000\",\n        \"paymentType\": \"paid\"\n    }\n}'\n</code></pre> <p>For Saudi Arabia users, You'll need to provide the <code>shortAdress</code> property to set the customer location:</p> <ul> <li><code>shortAddress</code>: The short address version of the national-address (Required).</li> </ul> <p>You don't need to put \"area, block, street, buildingNumber, floor, apartment, instructions\", Just a shortAddress.</p> <p>Example request:</p> <pre><code>curl --location --request POST 'https://api.armadadelivery.com/v0/deliveries' \\\n--header 'Authorization: Key YOUR API KEY' \\\n--header 'order-webhook-key: vE6gH8Rt2L1sK9w' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"platformName\": \"pos\",\n    \"platformData\": {\n        \"orderId\": \"145as5\",\n        \"name\": \"zakaria\",\n        \"phone\": \"055445874\",\n        \"shortAddress\": \"RRAA2062\",\n        \"amount\": \"7.000\",\n        \"paymentType\": \"paid\"\n    }\n}'\n</code></pre>"},{"location":"order_placement/#response","title":"Response","text":"<p>Upon successful completion, our API will return a JSON response with the following parameters:</p> <ul> <li><code>code</code>: The Id Of the delivery within Armada,</li> <li><code>deliveryFee</code>: The cost of the Delivery,</li> <li><code>amount</code>: The order Amount of the order set by the merchant,</li> <li><code>customerAddress</code>: The customer Address generated by Armada based on the data sent by the Platform,</li> <li><code>customerLocation</code>: The customer Location { latitude: '', longitude: '' } based on the data sent by the platform,</li> <li><code>customerName</code>: Customer Name,</li> <li><code>customerPhone</code>: Customer Phone,</li> <li><code>orderStatus</code>: The Order Status,</li> <li><code>estimatedDistance</code>: Estimated Distance from the pick up to the customer location in Meters,</li> <li><code>estimatedDuration</code>: Estimated Duration from the pick up to the customer location in Seconds,</li> <li><code>trackingLink</code>: A link to a public Page showing a live of the delivery progress,</li> <li><code>qrCodeLink</code>: A link to the QR code, to show to the driver, to scan the delivery in case the scan is not performed within the merchant dasboard,</li> <li><code>orderCreatedAt</code>: Date of the Delivery Creation,</li> <li><code>currency</code>: The currency used for this delivery.</li> </ul> <p>Example response:</p> <pre><code>{\n  \"code\": \"0BAB9A5586\",\n  \"deliveryFee\": 2,\n  \"amount\": 5,\n  \"customerAddress\": \"Abdullah Mubarak Al-Sabah, Block 5, St 503\",\n  \"customerLocation\": {\n    \"latitude\": 29.242885,\n    \"longitude\": 47.894161\n  },\n  \"customerName\": \"mohamed\",\n  \"customerPhone\": \"15245635895\",\n  \"orderStatus\": \"pending\",\n  \"estimatedDistance\": 24857,\n  \"estimatedDuration\": 1772.55,\n  \"trackingLink\": \"undefined/tracking/d33ca2f3-ca06-4d5a-af70-fb752c6fb80a\",\n  \"qrCodeLink\": \"https://armada-sand.s3.amazonaws.com/qrCodes/aa256d1bc094bda2e45f99db28a03997.svg\",\n  \"orderCreatedAt\": \"2019-12-26T10:35:08.612Z\",\n  \"currency\": \"KWD\"\n}\n</code></pre>"},{"location":"order_placement/#fetching-orders","title":"Fetching orders","text":"<p>To fetch an order, you will need to make an HTTP GET request to the following endpoint:</p> <pre><code>http://api.armadadelivery.com/v0/deliveries/:orderCode\n</code></pre> <p>Where:</p> <ul> <li><code>orderCode</code>: The Id Of the delivery within Armada</li> </ul>"},{"location":"order_placement/#response_1","title":"Response","text":"<ul> <li><code>code</code>: The Id Of the delivery within Armada,</li> <li><code>deliveryFee</code>: The cost of the Delivery,</li> <li><code>amount</code>: The order Amount of the order set by the merchant,</li> <li><code>customerAddress</code>: The customer Address generated by Armada based on the data sent by the Platform,</li> <li><code>customerLocation</code>: The customer Location { latitude: '', longitude: '' } based on the data sent by the platform,</li> <li><code>customerName</code>: Customer Name,</li> <li><code>customerPhone</code>: Customer Phone,</li> <li><code>orderStatus</code>: The Order Status,</li> <li><code>estimatedDistance</code>: Estimated Distance from the pick up to the customer location in Meters,</li> <li><code>estimatedDuration</code>: Estimated Duration from the pick up to the customer location in Seconds,</li> <li><code>trackingLink</code>: A link to a public Page showing a live of the delivery progress,</li> <li><code>qrCodeLink</code>: A link to the QR code, to show to the driver, to scan the delivery in case the scan is not performed within the merchant dasboard,</li> <li><code>orderCreatedAt</code>: Date of the Delivery Creation,</li> <li><code>currency</code>: The currency used for this delivery.</li> </ul>"},{"location":"order_placement/#canceling-orders-beta","title":"Canceling orders <code>beta</code>","text":"<p>To cancel an order, you will need to make an HTTP POST request to the following endpoint:</p> <pre><code>http://api.armadadelivery.com/v0/deliveries/:orderCode/cancel\n</code></pre> <p>Where:</p> <ul> <li><code>id</code>: The Id Of the delivery within Armada</li> </ul>"},{"location":"sandbox_access/","title":"Sandbox access","text":""},{"location":"sandbox_access/#sandbox-dashboard","title":"Sandbox Dashboard","text":"<p>Through our sandbox environment, you'll be able to play around with the integration and test it for your app.</p> <p>The Sandbox Dashboard URL is: sandbox.merchant.armadadelivery.com</p> <p>The test account credentials:</p> <ul> <li>Email: <code>mohamed+merchant@armadadelivery.com</code></li> <li>Password: <code>Armada2020!</code></li> </ul> <p>We highly recommend you to create a new branch so that your tests don't interfere with others.</p> <p>Keep in mind that this account is shared with other testers. If you want your own account please signup, then reach out to our support to provide them with the merchant name you created and we will topup the account.</p> <p></p>"},{"location":"webhooks/","title":"Webhooks","text":""},{"location":"webhooks/#webhooks","title":"Webhooks","text":"<p>To receive real-time updates on the status of orders placed through your app, you can provide a webhook URL in the Armada delivery Merchant UI. Our API will send a POST request to this URL any time the status of an order changes.</p> <p>The list of the statuses:</p> <ul> <li><code>pending</code>: the order has been received and is waiting to be dispatched to a driver</li> <li><code>dispatched</code>: the order has been dispatched to a driver who is on his way to the merchant</li> <li><code>en route</code>: the order has been picked up from the merchant and is being delivered to the customer</li> <li><code>complete</code>: the order has been successfully delivered</li> <li><code>canceled</code>: the order has been canceled from the merchant</li> <li><code>failed</code>: the order has failed to find a driver</li> </ul>"},{"location":"webhooks/#response","title":"Response","text":"<ul> <li><code>code</code>: The Id Of the delivery within Armada,</li> <li><code>deliveryFee</code>: The cost of the Delivery,</li> <li><code>amount</code>: The order Amount of the order set by the merchant,</li> <li><code>customerAddress</code>: The customer Address generated by Armada based on the data sent by the Platform,</li> <li><code>customerLocation</code>: The customer Location { latitude: '', longitude: '' } based on the data sent by the platform,</li> <li><code>customerName</code>: Customer Name,</li> <li><code>customerPhone</code>: Customer Phone,</li> <li><code>orderStatus</code>: The Order Status,</li> <li><code>estimatedDistance</code>: Estimated Distance from the pick up to the customer location in Meters,</li> <li><code>estimatedDuration</code>: Estimated Duration from the pick up to the customer location in Seconds,</li> <li><code>driver</code>: An object containing the driver name and phone number.</li> <li><code>trackingLink</code>: A link to a public Page showing a live of the delivery progress,</li> <li><code>qrCodeLink</code>: A link to the QR code, to show to the driver, to scan the delivery in case the scan is not performed within the merchant dasboard,</li> <li><code>orderCreatedAt</code>: Date of the Delivery Creation,</li> <li><code>currency</code>: The currency used for this delivery.</li> </ul> <p>In headers:</p> <ul> <li><code>Authorization</code>: The value of your order-webhook-key you provide when you create the order.</li> </ul>"}]}